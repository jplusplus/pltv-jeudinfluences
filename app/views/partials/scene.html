<div class="scene" ng-controller="SceneCtrl" ng-show="shouldShowScene(scene)">              
    <!-- This is the main illustration -->      
    <img class="scene__bg" ng-src="[[scene.decor[0].background | media]]" /> 
      
    <!-- Scene's sequence -->
    <div ng-repeat="sequence in scene.sequence" 
         class="scene__sequence scene__sequence--[[sequence.type]]"
         ng-show="shouldShowSequence($index) && !user.isStartingChapter()">

        <!-- Dialog box, a the bottom of the screen -->
        <div ng-if="isDialog(sequence)">
            <div class="scene__sequence--[[sequence.type]]__frame">            
                <p class="scene__sequence--[[sequence.type]]__frame__header" ng-if="sequence.header">
                    [[sequence.header]]
                </p>
                <p class="scene__sequence--[[sequence.type]]__frame__character" ng-if="sequence.character">
                    [[sequence.character]]&nbsp;:
                </p>
                <p class="scene__sequence--[[sequence.type]]__frame__body">
                    [[sequence.body]]
                </p>
                <div class="scene__sequence--[[sequence.type]]__frame__head" ng-if="getHeadSrc(sequence)">
                    <img ng-src="[[getHeadSrc(sequence)]]" />
                </div>
            </div>
            <a class="scene__sequence--dialogue__next btn btn-default" ng-show="shouldShowNext($parent.sequence)" ng-click="goToNextSequence()">
                <span class="sr-only">Continuer</span>
            </a>
        </div>

        <!-- Player box, a the bottom of the screen -->
        <div ng-if="isPlayer(sequence)">
            <p class="scene__sequence--[[sequence.type]]__character" ng-if="sequence.character">
                [[sequence.character]]&nbsp;:                
            </p>
            <button class="btn btn-default scene__sequence--[[sequence.type]]__play" ng-click="toggleVoicetrack()">
                <span ng-show="sound.voicetrack.isPlaying">Pause<span>
                <span ng-hide="sound.voicetrack.isPlaying">Play<span>
            </button>                
            <div class="scene__sequence--[[sequence.type]]__head" ng-if="getHeadSrc(sequence)">
                <img ng-src="[[getHeadSrc(sequence)]]" />
            </div>            
            <a class="scene__sequence--dialogue__next btn btn-default" ng-show="shouldShowNext($parent.sequence)" ng-click="goToNextSequence()">
                <span class="sr-only">Continuer</span>
            </a>
        </div>

        <!-- Choice box, at the middle of the screen -->
        <div ng-if="isChoice(sequence)">
            <h3 class="scene__sequence--choice__question">
                [[sequence.body]]
            </h3>
            <button ng-repeat="option in sequence.options"
                    class="btn btn-lg btn-default scene__sequence--choice__option" 
                    ng-click="selectOption(option, $index)">
                [[option.header]]
            </button>
        </div>

        <!-- Notification, a the top right corner of the screen -->
        <div ng-if="isNotification(sequence)">
            <div class="scene__sequence--notification__header">[[sequence.header]]&nbsp;:</div>
            <div class="scene__sequence--notification__body">"[[sequence.body]]"</div>            
        </div>

    </div>   
</div>