.chapter {
    
    &__cmd {
        z-index:@chapter-zindex;
        position:absolute;
        left:0;
        bottom:50px;
        width:280px;
        .transition(0.25s );

        &__toggler {
            position:absolute;
            top:100%;
            right:30px;
            height:40px;
            width:40px;
            background:black;
            color:white;
            font-size:130%;
            display: none;
            .translate(0, -10px);

            @media (max-width: @screen-md-min) { 
                display: block;
            }
        }


        @media (max-width: @screen-md-min) {
            .translate(0, -100%);
            width: 100%;       
            padding-bottom:5px;
            top:0;
            bottom:auto;
            background:fade(black, 75);

            &--touch-visible {
                .translate(0, 0);
            }
        }

        @media (max-width: 1100px) and (min-width: @screen-md-min) {
            width: 225px;
        }

                        
        &.ng-hide-add,
        &.ng-hide-remove {
            display:block!important;
            .transition(@chapter-starting-duration-2);
        }

        &.ng-hide-add.ng-hide-add-active,
        &.ng-hide-remove {          
            opacity:0;
            .translate(-100%, 0);    
        }

        &.ng-hide-remove.ng-hide-remove-active,    
        &.ng-hide-add {          
            opacity:1;
            .translate(0, 0);
        }

        &__indicator {
            width:auto;
            margin-top:5px;
            padding:0 10px;
            height:24px;
            line-height:24px;
            background:fade(black, 75);
            position:relative;

            html body &--trust .chapter__cmd__indicator__help__definition {
                margin-bottom:24px*1px + 10px;
            }

            html body &--stress .chapter__cmd__indicator__help__definition {
                margin-bottom:24px*2px + 15px;
            }

            @media (max-width: @screen-md-min) {
                background:none;
            }


            &__value {
                position:absolute;
                margin-left:5px;
                left:100%;
                top:0;
                background:fade(black, 75);
                height:24px;
                padding:0 5px;
                color:#fff;   
                opacity: 0;                             
                .translate(-40px, 0);
                .transition(0.6s cubic-bezier(0.23, 1, 0.32, 1) );

                @media (max-width: @screen-md-min) {                        
                    left:auto;
                    right:0;                        
                    opacity: 1;                     
                    .translate(0, 0);
                }
            }

            &:hover .chapter__cmd__indicator__value {
                opacity: 1;                                             
                .translate(0, 0);
            }

            &__help {
                font-family: Helvetica, Arial, sans-serif;
                font-size:10px;
                display: inline-block;
                margin-top:4px;
                line-height: 16px;
                height:16px;
                width:16px;
                text-align:center;
                border:1px solid @text-color;
                border-radius: 50%;
                cursor:help;
                z-index:@chapter-zindex+10;

                &:hover .chapter__cmd__indicator__help__definition,
                &:active .chapter__cmd__indicator__help__definition {
                    .translate(0, 0);                
                }

                &__definition {
                    padding-left:10px;
                    padding-right:5px;
                    height:20px;
                    font-size:12px;
                    line-height: 20px;
                    position:absolute;
                    left:0;
                    bottom:100%;
                    background-color: fade(#fff, 90);
                    color:fade(#000, 75);
                    margin-bottom:5px;
                    white-space:nowrap;
                    .translate(-100%, 0);
                    .transition(0.6s cubic-bezier(0.23, 1, 0.32, 1) );
                }
            }


            &__label {
                position:absolute;
                right:150px;
                z-index:-1;
                top:0;
                bottom:0;
                text-transform: uppercase;
                color:white;
                text-align: right;


                @media (max-width: @screen-md-min) {
                    left:0px;
                    right:auto;
                    width:100px;
                }

                @media (max-width: 1100px)  and (min-width: @screen-md-min) {
                    right:120px;
                }


            }

            &__progress {
                width:130px;
                height:6px;
                position:absolute;
                right:10px;
                top:9px;

                .progress-bar, & {
                    border-radius:3px;
                }

                @media (max-width: @screen-md-min) {
                    //.translate(-100%, 0);
                    width: auto;
                    left:110px;
                    right:40px;
                }

                @media (max-width: 1100px) and (min-width: @screen-md-min) {
                    width:100px;
                }

            }
        }
    }
}